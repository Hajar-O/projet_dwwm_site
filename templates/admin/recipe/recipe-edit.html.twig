{% extends 'admin/base.admin.html.twig' %}

{% block content %}

    <main>
        <section class="fomulaireEdit">
            {{ form_start(form) }}
            {{ form_row(form.title) }}
            {{ form_row(form.publishedAt) }}
            {{ form_row(form.description) }}
            {{ form_row(form.time) }}
            {{ form_row(form.image) }}
            {{ form_row(form.isPublished) }}
            {# the data-index attribute is required for the JavaScript code below #}
            <button type="button" class="add_item_link" data-collection-holder-class="recipeIngredients">Add a recipeIngredient
            </button>
            <ul class="recipeIngredients"
                data-index="{{ form.recipeIngredients|length > 0 ? form.recipeIngredients|last.vars.name + 1 : 0 }}"
                data-prototype="{{ form_widget(form.recipeIngredients.vars.prototype)|e('html_attr') }}"
            >
                {% for recipeIngredientForm in  form.recipeIngredients %}
                    <li>
                        {{ form_widget(recipeIngredientForm) }}
                    </li>
                {% endfor %}
            </ul>

            {{ form_end(form) }}
        </section>

    </main>

    {% block javascriptEnd %}

{% endblock %}
{% endblock %}